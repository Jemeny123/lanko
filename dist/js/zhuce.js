"use strict";$(function(){var imgCode,captcha=new Captcha({lineWidth:1,lineNum:2,preGroundColor:[10,80],backGroundColor:[150,250],fontSize:40,fontFamily:["Georgia","微软雅黑","Helvetica","Arial"],fontStyle:"stroke",content:"0123456789",length:4});captcha.draw(document.querySelector("#captcha"),function(t){console.log("验证码",t),imgCode=t,$("#yzm").trigger("blur")});var options={sjh:{reg:"/^[a-zA-Z_]\\w{1,9}$/.test(val)",msg:"用户名不符合规范!!!"},mm:{reg:"/^\\d{6,16}$/.test(val)",msg:"密码不符合规范!!!"},qrmm:{reg:'$("#mm").val() === val',msg:"两次输入的密码不相同!!!"},yzm:{reg:"val == imgCode",msg:"图形验证码不正确！！！"}};$(".zhuce input").blur(function(){var option_id=this.id;console.log("option_id",options[option_id]);var val=$.trim($(this).val());eval(options[option_id].reg)?($(this).parent().next().text(""),$(this).removeClass("btg")):($(this).parent().next().text(options[option_id].msg).css({color:"red"}),$(this).addClass("btg"))}),$("#ljzc").click(function(){($("#sjh,#mm,#qrmm,#yzm").trigger("blur"),0==$(".btg").length)&&($("#checkbox").is(":checked")?$.post("./php/addUser.php",{username:$("#sjh").val(),userpass:md5($.trim($("#mm").val())).slice(0,15)},function(t){"success"==t?($("#h3").css({color:"green"}),$("#h3").html("恭喜您，注册成功！2秒后跳转到<a href='denglu.html'>登录</a>页面"),setTimeout(function(){location.href="denglu.html"},2e3)):"fail"==t?($("#h3").css({color:"red"}),$("#h3").html("注册失败,用户名已存在")):($("#h3").css({color:"red"}),$("#h3").html("不好意思，服务器出问题了!"))}):alert("请阅读并同意用户的注册协议!!!"))})});